<!doctype html>
<html lang="en">
<body>

<!--<object id="svg-object" data="actions.svg" type="image/svg+xml"></object>-->
<!--<object id="svg-object" data="device.svg" type="image/svg+xml"></object>-->
<!--<object id="svg-object" data="alert.svg" type="image/svg+xml"></object>-->
<!--<object id="svg-object" data="av.svg" type="image/svg+xml"></object>-->
<object id="svg-object" data="communication.svg" type="image/svg+xml"></object>
<br><br>
<p>Write the content of this textarea to file icon-set-*.ts</p>
<textarea id="result" style="width: 100%; height:200px;"></textarea>

<script>
	const source = document.getElementById('svg-object');
	const resultArea = document.getElementById('result');
	source.addEventListener('load', function(){
		const icons = source.contentDocument.firstElementChild.getElementsByTagName('svg');
		// All the id in the doc follow this format
		const regex = /ic_(.*)_24px/;
		// We want to retrieve the following attributes from the svg
		// The viewBox attribute is (*almost*) always "0 0 24 24" so we don't take it
		// Width and height are always 24 so we don't take them
		// x and y attributes are not intersting... 
		// So finally all we want is the path :) 
		const result = {};

		for (icon of icons) {
			const id = regex.exec(icon.getAttribute('id'))[1];
			result[id] = icon.lastElementChild.getAttribute('d');
		}
		// Remove all the quotes to gain some KB
		resultArea.value = JSON.stringify(result);
	});
</script>
</body>
</html>
